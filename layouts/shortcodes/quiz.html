<div class="quiz-container" id="quiz-{{ .Ordinal }}" style="border: 1px solid #ccc; padding: 20px; border-radius: 8px; margin: 20px 0;">
    <p><strong>C√¢u h·ªèi:</strong> {{ .Get "question" }}</p>
    
    <div style="display: flex; gap: 10px; margin-bottom: 10px;">
        <input type="text" class="quiz-input" placeholder="Nh·∫≠p ƒë√°p √°n..." style="padding: 5px; border-radius: 4px; border: 1px solid #ddd; flex-grow: 1;">
        <button class="quiz-btn" style="padding: 5px 15px; cursor: pointer; background: var(--primary); color: white; border: none; border-radius: 4px;">Ki·ªÉm tra</button>
    </div>

    <div class="quiz-result" style="display: none; padding: 10px; background: #f0fdf4; border-left: 4px solid #22c55e; margin-top: 10px;">
        <p style="color: #166534; font-weight: bold; margin-bottom: 5px;">‚úÖ Ch√≠nh x√°c! C√°ch gi·∫£i:</p>
        {{ .Inner | markdownify }}
    </div>

    <p class="quiz-error" style="display: none; color: #dc2626; font-size: 0.9em; margin-top: 5px;">‚ùå Sai r·ªìi, th·ª≠ l·∫°i nh√©!</p>
</div>

<script>
(function() {
    // 1. T√¨m ƒë√∫ng c√°i c·ª•m c√¢u h·ªèi hi·ªán t·∫°i d·ª±a v√†o ID
    var quizDiv = document.getElementById('quiz-{{ .Ordinal }}');
    if (!quizDiv) return;

    // 2. T√¨m c√°c th√†nh ph·∫ßn b√™n trong n√≥
    var btn = quizDiv.querySelector('.quiz-btn');
    var input = quizDiv.querySelector('.quiz-input');
    var resultDiv = quizDiv.querySelector('.quiz-result');
    var errorMsg = quizDiv.querySelector('.quiz-error');
    
    // L·∫•y ƒë√°p √°n t·ª´ markdown v√† chuy·ªÉn th√†nh ch·ªØ th∆∞·ªùng
    var correctAns = "{{ .Get `answer` }}".toLowerCase().trim();

    // 3. L·∫Øng nghe s·ª± ki·ªán Click
    btn.addEventListener('click', function() {
        var userAns = input.value.toLowerCase().trim();
        if (userAns === correctAns) {
            resultDiv.style.display = 'block';
            errorMsg.style.display = 'none';
        } else {
            resultDiv.style.display = 'none';
            errorMsg.style.display = 'block';
        }
    });

    // üåü T√≠nh nƒÉng Bonus: ·∫§n ph√≠m Enter ƒë·ªÉ ki·ªÉm tra lu√¥n cho ti·ªán
    input.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            btn.click();
        }
    });
})();
</script>